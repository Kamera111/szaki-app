<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8" />
    <title>Szaki Profil – Vezérlőpult | Szaki-App</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f2f2f2;
            margin: 0;
        }

        .topbar {
            background: #ff9800;
            color: #fff;
            padding: 18px 16px 14px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.15);
        }

        .topbar-title {
            font-size: 22px;
            font-weight: 700;
            margin: 0 0 4px;
        }

        .topbar-sub {
            margin: 0;
            font-size: 13px;
            opacity: 0.9;
        }

        .tabs {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 14px;
        }

        .tab-btn {
            border-radius: 999px;
            border: none;
            padding: 8px 14px;
            font-size: 13px;
            cursor: default;
            background: rgba(255,255,255,0.8);
            color: #333;
        }

        .tab-btn.active {
            background: #ffffff;
            font-weight: 600;
        }

        .wrap {
            max-width: 900px;
            margin: 18px auto 30px;
            background: #ffffff;
            border-radius: 12px;
            padding: 24px 22px 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.06);
        }

        h2 {
            margin-top: 0;
        }

        .alcim {
            margin: 0 0 18px;
            color: #555;
            font-size: 14px;
        }

        .szekcio-cim {
            font-size: 18px;
            font-weight: bold;
            margin: 24px 0 10px;
        }

        .mezo-csoport {
            margin-bottom: 14px;
        }

        label {
            display: block;
            font-weight: bold;
            margin-bottom: 4px;
            font-size: 14px;
        }

        input[type="text"],
        input[type="number"],
        textarea {
            width: 100%;
            padding: 10px 12px;
            border-radius: 6px;
            border: 1px solid #ccc;
            font-size: 14px;
            box-sizing: border-box;
        }

        textarea {
            min-height: 120px;
            resize: vertical;
        }

        .row-2 {
            display: flex;
            gap: 12px;
        }

        .row-2 .mezo-csoport {
            flex: 1;
        }

        .checkbox-sor {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            margin: 8px 0;
        }

        .checkbox-sor input {
            margin: 0;
        }

        .info-szoveg {
            font-size: 12px;
            color: #777;
            margin-top: 4px;
        }

        .fo-gomb {
            background: #f57c00;
            color: #fff;
            border: none;
            border-radius: 8px;
            padding: 14px 24px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 18px;
        }

        .fo-gomb:hover {
            background: #e56f00;
        }

        .labjegyzet {
            margin-top: 10px;
            font-size: 12px;
            color: #777;
        }

        @media (max-width: 600px) {
            .wrap {
                padding: 18px 14px 24px;
            }

            .row-2 {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>

<div class="topbar">
    <div class="topbar-title">Szaki Profil – Vezérlőpult</div>
    <p class="topbar-sub">Csak becsületes, precíz és pontos szakiknak</p>
    <div class="tabs">
        <button class="tab-btn active">Profil adatok</button>
        <button class="tab-btn">Dokumentumok</button>
        <button class="tab-btn">Naptár</button>
        <button class="tab-btn">Referenciák</button>
        <button class="tab-btn">Chat (max. 3 munka)</button>
    </div>
</div>

<div class="wrap">
    <h2>Profil adatok</h2>
    <p class="alcim">
        Ezek az adatok jelennek meg a megrendelőknek. Később még bővíthetjük.
    </p>

    <!-- 1. Alap profil adatok -->
    <div class="szekcio-cim">1. Alap adatok</div>

    <div class="row-2">
        <div class="mezo-csoport">
            <label for="prof-nev">Név</label>
            <input type="text" id="prof-nev" placeholder="Pl.: Chisnyán Sándor CSABI" />
        </div>
        <div class="mezo-csoport">
            <label for="prof-szakma">Szakma</label>
            <input type="text" id="prof-szakma" placeholder="Pl.: kőműves, burkoló, festő" />
        </div>
    </div>

    <div class="row-2">
        <div class="mezo-csoport">
            <label for="prof-megye">Vármegyék ahol dolgozol</label>
            <input type="text" id="prof-megye" placeholder="Pl.: Pest" />
        </div>
        <div class="mezo-csoport">
            <label for="prof-varosok">Városok / kerületek</label>
            <input type="text" id="prof-varosok" placeholder="Pl.: Budapest és környéke" />
        </div>
    </div>

    <div class="mezo-csoport">
        <label for="prof-bemutatkozas">Rövid bemutatkozás</label>
        <textarea id="prof-bemutatkozas"
                  placeholder="Pl.: Több mint 30 éves tapasztalattal, lakásfelújítással foglalkozom..."></textarea>
    </div>

    <div class="checkbox-sor">
        <input type="checkbox" id="prof-kis-munka" />
        <label for="prof-kis-munka">
            Rövid, kicsi, pár napos vagy 1 napos munkát is vállalok, ha belefér két nagy közé.
        </label>
    </div>

    <!-- 2. Számlázás és órabér -->
    <div class="szekcio-cim">2. Számlázás és órabér</div>

    <div class="checkbox-sor">
        <input type="checkbox" id="prof-szamla-kepes" />
        <label for="prof-szamla-kepes">
            Számlaképes vagyok (tudok munkadíjról számlát adni).
        </label>
    </div>
    <p class="info-szoveg">
        A megrendelők a jövőben rá tudnak szűrni a számlaképes szakikra, így előnyt élvezel a listában.
    </p>

    <div class="checkbox-sor">
        <input type="checkbox" id="prof-oraber-vallal" />
        <label for="prof-oraber-vallal">
            Órabéres munkát is vállalok.
        </label>
    </div>

    <div class="row-2" id="prof-oraber-sor" style="display:none;">
        <div class="mezo-csoport">
            <label for="prof-oraber">Óradíj (bruttó Ft/óra)</label>
            <input type="number" id="prof-oraber" min="0" step="500" placeholder="Pl.: 12000" />
            <p class="info-szoveg">
                A profilodon így fog megjelenni: „Órabéres munkadíj: X Ft/óra”.
            </p>
        </div>
    </div>

    <!-- 3. Mentés -->
    <button class="fo-gomb" onclick="profilMentesDemo()">Profil mentése (demó)</button>

    <p class="labjegyzet">
        A valódi mentés később Firebase-be kerül, most csak a felületet és a logikát rakjuk össze
        (adatok localStorage-ban tárolódnak ezen az eszközön).
    </p>
</div>

<script>
    // Segédfüggvények mezők betöltéséhez/mentéséhez

    function betoltMezok() {
        // Ha van külön profil-mentés, azt használjuk, egyébként regisztrációs alap
        const nev = localStorage.getItem("sp_nev") || localStorage.getItem("szaki_nev") || "";
        const szakma = localStorage.getItem("sp_szakma") || localStorage.getItem("szaki_szakma") || "";
        const megye = localStorage.getItem("sp_megye") || "";
        const varosok = localStorage.getItem("sp_varosok") || localStorage.getItem("szaki_hely") || "";
        const bemut = localStorage.getItem("sp_bemutkozas") || "";
        const kisMunka = localStorage.getItem("sp_kisMunka") === "true";

        const szamlaKepes = (localStorage.getItem("sp_szamlaKepes") ?? localStorage.getItem("szaki_szamlaKepes")) === "true";
        const oraberVallal = (localStorage.getItem("sp_oraberVallal") ?? localStorage.getItem("szaki_oraberVallal")) === "true";
        const oraberOsszeg = localStorage.getItem("sp_oraberOsszeg") || localStorage.getItem("szaki_oraberOsszeg") || "";

        document.getElementById("prof-nev").value = nev;
        document.getElementById("prof-szakma").value = szakma;
        document.getElementById("prof-megye").value = megye;
        document.getElementById("prof-varosok").value = varosok;
        document.getElementById("prof-bemutatkozas").value = bemut;
        document.getElementById("prof-kis-munka").checked = kisMunka;

        document.getElementById("prof-szamla-kepes").checked = szamlaKepes;
        document.getElementById("prof-oraber-vallal").checked = oraberVallal;
        document.getElementById("prof-oraber").value = oraberOsszeg;

        frissitOraberSor();
    }

    function frissitOraberSor() {
        const oraberVallal = document.getElementById("prof-oraber-vallal").checked;
        const sor = document.getElementById("prof-oraber-sor");
        sor.style.display = oraberVallal ? "flex" : "none";
    }

    function profilMentesDemo() {
        const nev = document.getElementById("prof-nev").value.trim();
        const szakma = document.getElementById("prof-szakma").value.trim();
        const megye = document.getElementById("prof-megye").value.trim();
        const varosok = document.getElementById("prof-varosok").value.trim();
        const bemut = document.getElementById("prof-bemutatkozas").value.trim();
        const kisMunka = document.getElementById("prof-kis-munka").checked;

        const szamlaKepes = document.getElementById("prof-szamla-kepes").checked;
        const oraberVallal = document.getElementById("prof-oraber-vallal").checked;
        const oraberOsszeg = document.getElementById("prof-oraber").value.trim();

        // Kötelezőnek nem feltétlenül tesszük, de figyelmeztethetünk
        if (!nev || !szakma) {
            alert("Kérlek töltsd ki legalább a nevet és a szakmát.");
            return;
        }

        localStorage.setItem("sp_nev", nev);
        localStorage.setItem("sp_szakma", szakma);
        localStorage.setItem("sp_megye", megye);
        localStorage.setItem("sp_varosok", varosok);
        localStorage.setItem("sp_bemutkozas", bemut);
        localStorage.setItem("sp_kisMunka", kisMunka ? "true" : "false");

        localStorage.setItem("sp_szamlaKepes", szamlaKepes ? "true" : "false");
        localStorage.setItem("sp_oraberVallal", oraberVallal ? "true" : "false");
        localStorage.setItem("sp_oraberOsszeg", oraberOsszeg);

        // Szinkronban tartjuk a regisztrációs kulcsokkal is (hogy a profilból is lássa az app)
        localStorage.setItem("szaki_szamlaKepes", szamlaKepes ? "true" : "false");
        localStorage.setItem("szaki_oraberVallal", oraberVallal ? "true" : "false");
        localStorage.setItem("szaki_oraberOsszeg", oraberOsszeg);

        alert("Profil adatok elmentve (demó – localStorage).");
    }

    document.addEventListener("DOMContentLoaded", () => {
        betoltMezok();

        document.getElementById("prof-oraber-vallal")
            .addEventListener("change", frissitOraberSor);
    });
</script>

</body>
</html>
